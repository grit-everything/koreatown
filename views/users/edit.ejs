<!DOCTYPE html>
<html lang="en">
    <head>
        <%- include('../partials/head')%>
    </head>
    <body>
        <%- include('../partials/nav')%>

        <div class="container mb-3">
            <h3 class="mb-3">Edit User</h3>

            <form action="/users/<%= username %>?_method=put" method="post">
                <div class="form-group row">
                    <label for="currentPassword" class="col-sm-3 col-form-label">Current Password*</label>
                    <div class="col-sm-9 col-sm-offset-3">
                        <input type="password" id="currentPassword" name="currentPassword" value="" class="form-control <%= (errors.currentPassword)?'is-invalid':'' %>" />
                        <% if(errors.currentPassword){%>
                        <span class="invalid-feedback"><%= errors.currentPassword.message %></span>
                        <%} %>
                    </div>
                </div>

                <hr />

                <div class="form-group row">
                    <label for="username" class="col-sm-3 col-form-label">Username*</label>
                    <div class="col-sm-9">
                        <input type="text" id="username" name="username" value="<%= user.username %>" class="form-control <%= (errors.username)?'is-invalid':'' %>" />
                        <% if(errors.username){%>
                        <span class="invalid-feedback"><%= errors.username.message %></span>
                        <%} %>
                    </div>
                </div>

                <div class="form-group row">
                    <label for="nickname" class="col-sm-3 col-form-label">Nickname*</label>
                    <div class="col-sm-9">
                        <input type="text" id="nickname" name="nickname" value="<%= user.nickname%>" class="form-control <%= (errors.nickname)?'is-invalid':''%>" />
                        <% if(errors.nickname){%>
                        <span class="invalid-feedback"><%= errors.nickname.message %></span>
                        <%} %>
                    </div>
                </div>

                <div class="form-group row">
                    <label for="email" class="col-sm-3 col-form-label">Email*</label>
                    <div class="col-sm-9">
                        <input type="text" id="email" name="email" value="<%= user.email%>" class="form-control <%= (errors.email)?'is-invalid':''%>" />
                        <% if(errors.email){%>
                        <span class="invalid-feedback"><%= errors.email.message %></span>
                        <%} %>
                    </div>
                </div>

                <div class="form-group row">
                    <label for="newPassword" class="col-sm-3 col-form-label">New Password*</label>
                    <div class="col-sm-9 col-sm-offset-3">
                        <input type="password" id="newPassword" name="newPassword" value="" class="form-control <%= (errors.newPassword)?'is-invalid':''%>" />
                        <% if(errors.newPassword){%>
                        <span class="invalid-feedback"><%= errors.newPassword.message %></span>
                        <%} %>
                    </div>
                </div>

                <div class="form-group row">
                    <label for="passwordConfirmation" class="col-sm-3 col-form-label">Password Confirmation*</label>
                    <div class="col-sm-9 col-sm-offset-3">
                        <input type="password" id="passwordConfirmation" name="passwordConfirmation" value="" class="form-control <%= (errors.passwordConfirmation)?'is-invalid':''%>" />
                        <% if(errors.passwordConfirmation){%>
                        <span class="invalid-feedback"><%= errors.passwordConfirmation.message %></span>
                        <%} %>
                    </div>
                </div>

                <p>
                    <small style="color: crimson;">*필수입력</small>
                </p>

                <% if(errors.unhandled){ %>
                <div class="alert alert-danger">
                    <%= errors.unhandled %>
                </div>
                <%}%>

                <div class="button">
                    <a href="/users/<%= user.username %>" class="btn btn-primary">뒤로</a>
                    <button type="submit" class="btn btn-primary">제출</button>
                </div>
            </form>
        </div>
    </body>
</html>
